#!/usr/bin/env bash



echo -e "\nNumber of genes"
cat $@ | grep ^LOOKING | awk '{print $5}' | sort -u | wc -l

echo -e "\nTranscripts ignored as gene didn't transform to default assembly"
cat $@ | grep ^TR2 | grep "did not transform" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts ignored as overlapping multiple loci"
cat $@ | grep ^TR2 | grep "max allowed number" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts ignored as host gene biotype not allowed"
cat $@ | grep ^TR2 | grep "host gene biotype not allowed" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts rejected as intron didn't pass the filter"
cat $@ | grep ^TR2 | grep "intron did not pass the filter" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts rejected as intron chain exists in annotation"
cat $@ | grep ^TR2 | grep -P "Rejected.+as intron chain exists" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts rejected as no exon novelty provided"
cat $@ | grep ^TR2 | grep -P "Rejected.+as no exon novelty" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts rejected as as partially redundant with a coding transcript"
cat $@ | grep ^TR2 | grep -P "Rejected.+as partially redundant with a coding transcript" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts rejected as as partially redundant with a MANE transcript"
cat $@ | grep ^TR2 | grep -P "Rejected.+as partially redundant with a MANE transcript" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts skipped as clones could not be unlocked"
cat $@ | grep "could not be unlocked" | wc -l

echo -e "\nTranscripts added (novel)"
cat $@ | grep ^TR2 | grep "Added" | awk '{print $3}' | sort -u | wc -l

echo -e "\nTranscripts extended"
cat $@ | grep ^TR2 | grep "Extended" | awk '{print $3}' | sort -u | wc -l

echo -e "\nNovel genes"
cat $@ | grep -P "RESULT: novel gene .+ was created" | wc -l

echo -e "\nModified genes"
cat $@ | grep -P "RESULT: gene .+ was modified" | sort -u | wc -l 

